---
// frontend/src/pages/dashboard.astro
import MainLayout from '../layouts/MainLayout.astro';
import Sidebar from '../components/dashboard/Sidebar';
import Header from '../components/layout/Header';
import StatsCardWrapper from '../components/dashboard/StatsCardWrapper';
import LineChart from '../components/charts/LineChart';
---

<MainLayout title="Dashboard">
  <div class="flex min-h-screen bg-gray-50 dark:bg-gray-900">
    <Sidebar client:load />
    
    <div class="flex-1 ml-64">
      <Header client:load />
      
      <main class="pt-20 p-8">
        <div class="mb-8">
          <h1 class="text-3xl font-bold text-gray-900 dark:text-white">Dashboard</h1>
          <p class="text-gray-600 dark:text-gray-400 mt-2">Welcome back! Here's your social media overview</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
          <StatsCardWrapper
            client:load
            title="Total Followers"
            value="124.5K"
            change={12.5}
            icon="Users"
            color="bg-indigo-500"
          />
          <StatsCardWrapper
            client:load
            title="Total Views"
            value="2.4M"
            change={8.2}
            icon="Eye"
            color="bg-pink-500"
          />
          <StatsCardWrapper
            client:load
            title="Engagement"
            value="156K"
            change={-2.4}
            icon="Heart"
            color="bg-red-500"
          />
          <StatsCardWrapper
            client:load
            title="Growth Rate"
            value="15.3%"
            change={5.1}
            icon="TrendingUp"
            color="bg-green-500"
          />
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
          <div class="bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg">
            <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-4">Follower Growth</h2>
            <LineChart
              client:load
              data={[1200, 1900, 3000, 5000, 7500, 9000, 12000]}
              labels={['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']}
              title="Followers"
            />
          </div>

          <div class="bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg">
            <h2 class="text-xl font-bold text-gray-900 dark:text-white mb-4">Engagement Rate</h2>
            <LineChart
              client:load
              data={[4.2, 5.1, 4.8, 6.2, 5.5, 6.8, 7.2]}
              labels={['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']}
              title="Engagement %"
              color="rgb(236, 72, 153)"
            />
          </div>
        </div>
      </main>
    </div>
  </div>
</MainLayout>
